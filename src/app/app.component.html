<section class="height-100" *ngIf="!loading">
  <div class="view-container">
    <div class="row justify-content-center d-flex text-center width-100 margin-0">
      <div class="col-12 col-md-8">
        <h1 class="display-2 main-title" [class.mobile-title]="isMobile"><strong>My Holocaust <span style="color:red;">Twin</span></strong></h1>

        <div [class.main-content]="isMobile" *ngIf="!hasError; else errorMessage">
          <div class="img-option-container">
            <div *ngIf="!isCameraOpen" class="img-option mb-60">
              <label href="#"
                     tooltip="Upload image from gallery" placement="bottom" show-delay="50" hide-delay="50" displayTouchscreen	="false"
                     class="action upload"
                     [class.action-mobile]="isMobile"
                     for="fileupload">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 388.309 388.309" style="enable-background:new 0 0 388.309 388.309;" xml:space="preserve"> <g> <g> <g> <path d="M201.173,307.042c-11.291-0.174-22.177-4.233-30.825-11.494l-56.947-50.155c-8.961-8.373-22.664-9.036-32.392-1.567     L0.03,303.384v38.661c-0.582,10.371,7.355,19.25,17.726,19.832c0.534,0.03,1.07,0.037,1.605,0.021h286.824     c11.494,0,22.988-8.359,22.988-19.853V240.691L226.25,300.25C218.684,304.798,210.001,307.15,201.173,307.042z"/> <circle cx="196.993" cy="182.699" r="22.988"/> <path d="M383.508,67.238c-3.335-4.544-8.487-7.406-14.106-7.837L84.667,26.487c-5.551-0.465-11.091,1.012-15.673,4.18     c-4.058,3.524-6.817,8.307-7.837,13.584l-4.702,40.751h249.731c23.809,0.54,43.061,19.562,43.886,43.363v184.424     c0-1.045,4.702-2.09,6.792-4.18c4.326-3.397,6.834-8.606,6.792-14.106L388.21,82.389     C388.753,76.91,387.057,71.445,383.508,67.238z"/> <path d="M306.185,105.899H19.361c-11.494,0-19.331,10.971-19.331,22.465v148.898l68.963-50.155     c17.506-12.986,41.724-11.895,57.992,2.612l57.469,50.155c8.666,7.357,21.044,8.406,30.824,2.612l113.894-66.351v-87.771     C328.382,116.099,318.465,106.408,306.185,105.899z M196.993,226.584c-24.237,0-43.886-19.648-43.886-43.886     c0-24.237,19.648-43.886,43.886-43.886c24.237,0,43.886,19.648,43.886,43.886C240.879,206.936,221.231,226.584,196.993,226.584z"/> </g> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>
              </label>
              <input type="file"
                     class="inputfile"
                     id="fileupload"
                     accept="image/*"
                     (change)="handleFileInput($event.target.files)">
            </div>
            <app-camera (isCameraOpen)="updateUploadVisible($event)"></app-camera>
          </div>
          <div class="text-light sub-title d-flex-column">
            <span class="mbottom-5">It could have been you there...</span>
            <span class="text-light rights">&#9400;	All Copyright Reserved 2019 - {{year}} </span>
          </div>
        </div>

      </div>
    </div>
    <app-preview *ngIf="openModal && !hasError" (error)="onError()"></app-preview>
    
    <div class="appeared-in-wrapper" *ngIf="!isMobile">
      <div class="appeared-in">
        <div><a target="_new" href="//www.daserste.de/information/politik-weltgeschehen/weltspiegel/videos/israel-erinnerung-video-100.html"><img alt="ARD" src="/assets/ARD_logo.png"/></a></div>
        <div><a target="_new" href="//www.tlvstarters.com/spark-hackathon-ventures-2019/"><img class="brightness-low" alt="Spark Hackathon" src="/assets/Spark-logo.svg"/></a></div>
      </div>
    </div>

    <div class="created-by">
      <div>Created by:</div>
      <div><a target="_new" href="//www.linkedin.com/in/naor-haimov-045008a9/">Naor Haimov</a></div>
      <div><a target="_new" href="//www.yoavalroy.me/">Yoav Alroy</a></div>
      <div><a target="_new" href="//www.linkedin.com/in/nir-mekin-6b20bb117/">Nir Mekin</a></div>
      <div><a target="_new" href="//twitter.com/ChenMorSays">Chen Mor</a></div>
    </div>
  </div>
</section>


<ng-template #errorMessage>
  <div class="text-light mt-30 sub-title">
    <span>Server is too busy, please <span (click)="refresh()" class="error-msg">refresh</span> the page or try later.</span>
  </div>
</ng-template>

<div *ngIf="loading" class="main-loader">
  <div class="loader"></div>
</div>
